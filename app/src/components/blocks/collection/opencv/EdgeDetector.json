{"editor":{"id":"fab4e83a-c325-460f-9292-19143e14a2ff","offsetX":0,"offsetY":0,"zoom":100,"gridSize":0,"layers":[{"id":"f82d7960-ce09-46f4-beeb-428e13fcf1c0","type":"diagram-links","isSvg":true,"transformed":true,"models":{"f3deb6ab-4b07-444f-b5f2-ad3091f1e6cf":{"id":"f3deb6ab-4b07-444f-b5f2-ad3091f1e6cf","type":"default","selected":false,"source":"0001-43b898b0-00c7-42a7-9cd3-f614d47bf0aa","sourcePort":"f1f9c330-37f4-46d5-b431-ac69f2c4a986","target":"83a44880-92b1-4d0e-bc89-32a8904fd434","targetPort":"859e9702-c205-415f-a9b9-951000959f2b","points":[{"id":"0c2b8e67-f4b8-4cbe-91ce-ffc25a3540a0","type":"point","x":545,"y":130.6999969482422},{"id":"e850c785-15e5-4ca2-94ce-740ada6a13a9","type":"point","x":484.4875183105469,"y":208.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"9ecf54f2-208a-461f-b3aa-f94f3627fd0c":{"id":"9ecf54f2-208a-461f-b3aa-f94f3627fd0c","type":"default","selected":false,"source":"0002-28a3c6fc-bcc6-41a8-920a-85b03abe7157","sourcePort":"c751ebd7-5dcb-40a8-a164-d7c62e2086a9","target":"83a44880-92b1-4d0e-bc89-32a8904fd434","targetPort":"9151e0ee-6fe3-4363-b5ab-15c8152d7869","points":[{"id":"60d06b36-7e7e-4ab1-97a8-7f2014f248ce","type":"point","x":693,"y":133.6999969482422},{"id":"b27787a9-6a25-45c2-8974-ae38927b1463","type":"point","x":708.6124877929688,"y":208.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"aac1540e-595e-4262-9239-1cd4bc134837":{"id":"aac1540e-595e-4262-9239-1cd4bc134837","type":"default","selected":false,"source":"0003-b9096efa-f195-48d4-bddb-568098dbf47f","sourcePort":"e410243a-461d-4e2f-91a5-214193323a24","target":"83a44880-92b1-4d0e-bc89-32a8904fd434","targetPort":"89411064-07f6-4e2c-ae69-96420e7bb220","points":[{"id":"b0154af9-091a-4513-b728-1564e5238067","type":"point","x":844,"y":134.6999969482422},{"id":"52ab3665-87e3-433b-a16a-55a34bb61906","type":"point","x":922.9500122070312,"y":208.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"78f698d7-69ee-42fe-9f3e-bf1fb8805b5d":{"id":"78f698d7-69ee-42fe-9f3e-bf1fb8805b5d","type":"default","selected":false,"source":"e4273d64-8368-42af-b123-2d075d9641de","sourcePort":"200b887e-e9ec-4d25-a8b8-5036b66a4762","target":"83a44880-92b1-4d0e-bc89-32a8904fd434","targetPort":"3353bd26-fad4-4078-8833-ea4179b93f47","points":[{"id":"09fe061c-1229-4682-895b-d3fe8ec14674","type":"point","x":178.5,"y":331.6000061035156},{"id":"fe81a7fb-1bda-4bc1-abd7-86af04fcf096","type":"point","x":281.5,"y":332.82501220703125}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"9be230c5-20cd-49ba-8ce8-254246435afc":{"id":"9be230c5-20cd-49ba-8ce8-254246435afc","type":"default","selected":false,"source":"8d3302cf-964e-4f83-b44c-48e330010582","sourcePort":"4a4b24c4-d778-40dc-8722-801ceea8e649","target":"83a44880-92b1-4d0e-bc89-32a8904fd434","targetPort":"a826c5cd-ecd7-45a7-ba9d-b68f751b50ac","points":[{"id":"41b94b0d-9297-4a97-96db-7f7945000407","type":"point","x":167.5,"y":473.60003662109375},{"id":"3475cfe4-5ede-4e49-8fd3-0093d63ba44b","type":"point","x":281.5,"y":457.1500244140625}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"adada3c8-6475-48c1-9d1e-5e192673ecbe":{"id":"adada3c8-6475-48c1-9d1e-5e192673ecbe","type":"default","selected":false,"source":"83a44880-92b1-4d0e-bc89-32a8904fd434","sourcePort":"30b58c8a-5168-469e-9512-4c5e14c95fb0","target":"ed162e9d-2919-46de-9cde-b1b94dfcc45c","targetPort":"b67ecff2-0cb6-4c67-b521-beb6a9fa6c20","points":[{"id":"dbc80716-696a-45a0-b7db-941f50e4c484","type":"point","x":1116.1624755859375,"y":395},{"id":"58fc0ca9-9c77-44a1-9a82-9ddd769fc7f0","type":"point","x":1233.5,"y":389.6000061035156}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"e2cf16d8-dd9c-4d1f-80b3-c36ef4865f68","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-43b898b0-00c7-42a7-9cd3-f614d47bf0aa":{"id":"0001-43b898b0-00c7-42a7-9cd3-f614d47bf0aa","type":"basic.constant","selected":false,"x":484,"y":15,"ports":[{"id":"f1f9c330-37f4-46d5-b431-ac69f2c4a986","type":"port.output","x":537.5,"y":123.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0001-43b898b0-00c7-42a7-9cd3-f614d47bf0aa","links":["f3deb6ab-4b07-444f-b5f2-ad3091f1e6cf"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0002-28a3c6fc-bcc6-41a8-920a-85b03abe7157":{"id":"0002-28a3c6fc-bcc6-41a8-920a-85b03abe7157","type":"basic.constant","selected":false,"x":632,"y":18,"ports":[{"id":"c751ebd7-5dcb-40a8-a164-d7c62e2086a9","type":"port.output","x":685.5,"y":126.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0002-28a3c6fc-bcc6-41a8-920a-85b03abe7157","links":["9ecf54f2-208a-461f-b3aa-f94f3627fd0c"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Lower","value":"85","local":true}},"0003-b9096efa-f195-48d4-bddb-568098dbf47f":{"id":"0003-b9096efa-f195-48d4-bddb-568098dbf47f","type":"basic.constant","selected":false,"x":783,"y":19,"ports":[{"id":"e410243a-461d-4e2f-91a5-214193323a24","type":"port.output","x":836.5,"y":127.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0003-b9096efa-f195-48d4-bddb-568098dbf47f","links":["aac1540e-595e-4262-9239-1cd4bc134837"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Upper","value":"255","local":true}},"83a44880-92b1-4d0e-bc89-32a8904fd434":{"id":"83a44880-92b1-4d0e-bc89-32a8904fd434","type":"basic.code","selected":false,"x":273,"y":200,"ports":[{"id":"3353bd26-fad4-4078-8833-ea4179b93f47","type":"port.input","x":274,"y":325.32501220703125,"name":"Inp","alignment":"left","parentNode":"83a44880-92b1-4d0e-bc89-32a8904fd434","links":["78f698d7-69ee-42fe-9f3e-bf1fb8805b5d"],"in":true,"label":"Inp","hideLabel":false},{"id":"a826c5cd-ecd7-45a7-ba9d-b68f751b50ac","type":"port.input","x":274,"y":449.6500244140625,"name":"E","alignment":"left","parentNode":"83a44880-92b1-4d0e-bc89-32a8904fd434","links":["9be230c5-20cd-49ba-8ce8-254246435afc"],"in":true,"label":"E","hideLabel":false},{"id":"30b58c8a-5168-469e-9512-4c5e14c95fb0","type":"port.output","x":1108.6624755859375,"y":387.5,"name":"Out","alignment":"right","parentNode":"83a44880-92b1-4d0e-bc89-32a8904fd434","links":["adada3c8-6475-48c1-9d1e-5e192673ecbe"],"in":false,"label":"Out","hideLabel":false},{"id":"859e9702-c205-415f-a9b9-951000959f2b","type":"port.parameter","x":476.9875183105469,"y":201,"name":"Frequency","alignment":"top","parentNode":"83a44880-92b1-4d0e-bc89-32a8904fd434","links":["f3deb6ab-4b07-444f-b5f2-ad3091f1e6cf"],"in":true,"label":"Frequency","hideLabel":false},{"id":"9151e0ee-6fe3-4363-b5ab-15c8152d7869","type":"port.parameter","x":701.1124877929688,"y":201,"name":"Lower","alignment":"top","parentNode":"83a44880-92b1-4d0e-bc89-32a8904fd434","links":["9ecf54f2-208a-461f-b3aa-f94f3627fd0c"],"in":true,"label":"Lower","hideLabel":false},{"id":"89411064-07f6-4e2c-ae69-96420e7bb220","type":"port.parameter","x":915.4500122070312,"y":201,"name":"Upper","alignment":"top","parentNode":"83a44880-92b1-4d0e-bc89-32a8904fd434","links":["aac1540e-595e-4262-9239-1cd4bc134837"],"in":true,"label":"Upper","hideLabel":false}],"data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image, read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    control_data = np.array([0.0,0.03])\n    required_frequency, update = float(parameters[0]), 1\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        while True:\n        \n            if enabled or (update := int(enable_wire.get()[0])):\n    \n                sleep(control_data[1])\n                frame = input_0.get()\n                \n                if frame is not None:\n                \n                    frame = cv.cvtColor(frame, cv.COLOR_BGR2GRAY)\n                    edge_img = cv.Canny(frame, int(parameters[1]), int(parameters[2]))\n                    edge_img = cv.cvtColor(edge_img, cv.COLOR_GRAY2BGR)\n    \n                    output_0.add(edge_img)\n                    control_data[0] += 1\n                    \n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"Lower"},{"name":"Upper"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"803px","height":"326px"}}},"e4273d64-8368-42af-b123-2d075d9641de":{"id":"e4273d64-8368-42af-b123-2d075d9641de","type":"basic.input","selected":false,"x":85,"y":305,"ports":[{"id":"200b887e-e9ec-4d25-a8b8-5036b66a4762","type":"port.output","x":171,"y":324.1000061035156,"name":"input-out","alignment":"right","parentNode":"e4273d64-8368-42af-b123-2d075d9641de","links":["78f698d7-69ee-42fe-9f3e-bf1fb8805b5d"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"Inp"}},"8d3302cf-964e-4f83-b44c-48e330010582":{"id":"8d3302cf-964e-4f83-b44c-48e330010582","type":"basic.input","selected":false,"x":74,"y":447,"ports":[{"id":"4a4b24c4-d778-40dc-8722-801ceea8e649","type":"port.output","x":160,"y":466.10003662109375,"name":"input-out","alignment":"right","parentNode":"8d3302cf-964e-4f83-b44c-48e330010582","links":["9be230c5-20cd-49ba-8ce8-254246435afc"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"ed162e9d-2919-46de-9cde-b1b94dfcc45c":{"id":"ed162e9d-2919-46de-9cde-b1b94dfcc45c","type":"basic.output","selected":false,"x":1225,"y":363,"ports":[{"id":"b67ecff2-0cb6-4c67-b521-beb6a9fa6c20","type":"port.input","x":1226,"y":382.1000061035156,"name":"output-in","alignment":"left","parentNode":"ed162e9d-2919-46de-9cde-b1b94dfcc45c","links":["adada3c8-6475-48c1-9d1e-5e192673ecbe"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}}}}]},"version":"3.0","package":{"name":"EdgeDetector","version":"1.0.0","description":"Performs Edge Detection on Image","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDU2IDU2IiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnIGlkPSJQYWdlLTEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgaWQ9IjA2Mi0tLVBob3RvIiBmaWxsPSJyZ2IoMCwwLDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTQ2LjcxNyA0My40Yy0xLjEzNi0uNTktMi4yNzUtMS4xODktMy40LTEuOC0xLjAzOTg3MTktLjYxODkzNC0yLjE2MjkwNDItMS4wODU5OTQyLTMuMzM1LTEuMzg3LjAxNjE5NTMgMS4yNzc3MDExLS4xNDEyNDQgMi41NTE2ODExLS40NjggMy43ODdoOC40NDhjLS4yLS4xLS40LS4yLS41ODYtLjI4MS0uMjM3LS4xMS0uNDYyLS4yMTQtLjY1OS0uMzE5eiIvPjxwYXRoIGlkPSJSZWN0YW5nbGUtcGF0aCIgZD0ibTUgNTBoN3YyaC03eiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTE5LjA1NyAzOS4xMjhjLS4zMzY2NDQxLjE4MjY3NjItLjY4MjgwMzcuMzQ3MjQzOS0xLjAzNy40OTMtLjExNzExNTUgMS41MDU3NzkyLjE2MzU5NTMgMy4wMTU4OTI5LjgxNCA0LjM3OWgxOC41NjZjLjQ2MDY3NDYtMS40MTI5MDcyLjY1NDMwNjMtMi44OTkyMjUxLjU3MS00LjM4My0uMzUzNDUxMy0uMTQ1OTY5MS0uNjk4OTM0LS4zMTA1MzIzLTEuMDM1LS40OTMtLjMzNi0uMTgtLjY0OC0uMzY4LS45MzYtLjU1M3YyLjQyOWMwIC41NTIyODQ3LS40NDc3MTUzIDEtMSAxcy0xLS40NDc3MTUzLTEtMXYtMy45ODdjLTEuMDI3IDEuNTUxLTIuMDM0IDIuOTg3LTQuNDQgMi45ODdoLTMuMTJjLTIuNDA2IDAtMy40MTMtMS40MzYtNC40NC0yLjk4N3YzLjk4N2MwIC41NTIyODQ3LS40NDc3MTUzIDEtMSAxcy0xLS40NDc3MTUzLTEtMXYtMi40M2MtLjI5LjE4Ny0uNi4zNzctLjk0My41NTh6Ii8+PHBhdGggaWQ9IlNoYXBlIiBkPSJtNTUgMGgtNTRjLS41NTIyODQ3NSAwLTEgLjQ0NzcxNTI1LTEgMXYyMmgxMWMuNTUyMjg0NyAwIDEgLjQ0NzcxNTMgMSAxcy0uNDQ3NzE1MyAxLTEgMWgtMTF2MzBjMCAuNTUyMjg0Ny40NDc3MTUyNSAxIDEgMWg1NGMuNTUyMjg0NyAwIDEtLjQ0NzcxNTMgMS0xdi05aC01M2MtLjU1MjI4NDc1IDAtMS0uNDQ3NzE1My0xLTFzLjQ0NzcxNTI1LTEgMS0xaDIuMTg5Yy4wNDY0NzcxLS4xMTg1ODM1LjEwMjMyMDE0LS4yMzMyNzkxLjE2Ny0uMzQzLjYyMTM0NTEtLjgxMDk1NDEgMS40NjY5MTgwNC0xLjQyMTgzODggMi40MzItMS43NTcuMjA1LS4wOTMuNC0uMTgyLjU2OC0uMjcxIDEuMTI5LS41ODUgMi4yNTUtMS4xNzggMy4zNjUtMS43ODUgMS4zMzU1NjM0LS44MDYzNDg3IDIuNzk3ODMyOS0xLjM4MTExMzYgNC4zMjUtMS43LjcyMzI1NjItLjE0ODQxNTQgMS40MTgwNjE5LS40MTE3NTI5IDIuMDU4LS43OC42NjYzNjgzLS4zNjA1MTc2IDEuMzAwNjgwMS0uNzc3MzcwMiAxLjg5Ni0xLjI0NnYtMS43MjZjLS4xNTctLjE2NS0uMzA3LS4zMy0uNDgzLS41LTEuOTgyNjk4Ni0xLjcwMTM3OTEtMy4wMDQxMzM2LTQuMjY3NDg2Ny0yLjczMy02Ljg2Ni0xLjgzMDEzMzMtLjkxOTQ5NDktMy4xNjEwODM4LTIuNTk5OTI1LTMuNjM3LTQuNTkyLS4zLTIuMTE1LS4zMzEtNC43MDkgMS4xNjEtNS4yODYuNTUzMTkwOC0uMjA3MDg4MSAxLjE2NDA5NTgtLjE5ODE2MTkgMS43MTEuMDI1LS4wMzQtMS4yMTUtLjAyMy0yLjY3NS4wNjItNC40NzUuMzQyLTcuMzEzIDcuNDA4LTkuNTQ1IDExLjEtOS43aDEuNmMzLjczMS4xNTggMTAuOCAyLjM5IDExLjEzOSA5LjcuMDg1IDEuOC4xIDMuMjYuMDYyIDQuNDc1LjU0ODE3MDctLjIyMjM0ODIgMS4xNTk4MTg3LS4yMzA5MTI3IDEuNzE0LS4wMjQgMS40ODkuNTc2IDEuNDU1IDMuMTcgMS4xNjQgNS4yNDQtLjQ2NjA4NjggMi4wMDg2ODk4LTEuODAwOTIyOCAzLjcwNjI3MjktMy42NDMgNC42MzMuMjczNjEwNiAyLjYwMTM4NjEtLjc0ODQ2MTcgNS4xNzExNDY1LTIuNzM0IDYuODc0LS4xNzYuMTY1LS4zMjYuMzMtLjQ4My41djEuNzI2Yy41OTI2NzQ2LjQ2ODk2NTcgMS4yMjQzMDEuODg2NDgxNSAxLjg4OCAxLjI0OC42NDM5MTE4LjM3MDczNDEgMS4zNDMxMjkxLjYzNTc2ODIgMi4wNzEuNzg1IDEuNTI4NzE2Ny4zMTg5NTczIDIuOTkyNjE5Ljg5MzY5OTYgNC4zMyAxLjcgMS4xLjYgMi4yMjYgMS4yIDMuMzUyIDEuNzc5LjE3Mi4wOS4zNjYuMTc5LjU3MS4yNzIuOTY1ODkwNi4zMzUxNjQ5IDEuODExOTU3NS45NDY4NTA3IDIuNDMzIDEuNzU5LjA2NDM0NzUuMTA4NzA1OS4xMTk4NTkzLjIyMjQwNDkuMTY2LjM0aDUuMTg5di0xOS4wMDloLTExYy0uNTUyMjg0NyAwLTEtLjQ0NzcxNTMtMS0xcy40NDc3MTUzLTEgMS0xaDExdi0yMmMwLS41NTIyODQ3NS0uNDQ3NzE1My0xLTEtMXptLTI4IDQ4aDFjLjU1MjI4NDcgMCAxIC40NDc3MTUzIDEgMXMtLjQ0NzcxNTMgMS0xIDFoLTFjLS41NTIyODQ3IDAtMS0uNDQ3NzE1My0xLTFzLjQ0NzcxNTMtMSAxLTF6bS0xMCAwaDZjLjU1MjI4NDcgMCAxIC40NDc3MTUzIDEgMXMtLjQ0NzcxNTMgMS0xIDFoLTZjLS41NTIyODQ3IDAtMS0uNDQ3NzE1My0xLTFzLjQ0NzcxNTMtMSAxLTF6bTAgNGg0Yy41NTIyODQ3IDAgMSAuNDQ3NzE1MyAxIDFzLS40NDc3MTUzIDEtMSAxaC00Yy0uNTUyMjg0NyAwLTEtLjQ0NzcxNTMtMS0xcy40NDc3MTUzLTEgMS0xem0tMTQtM2MwLS41NTIyODQ3LjQ0NzcxNTI1LTEgMS0xaDljLjU1MjI4NDcgMCAxIC40NDc3MTUzIDEgMXY0YzAgLjU1MjI4NDctLjQ0NzcxNTMgMS0xIDFoLTljLS41NTIyODQ3NSAwLTEtLjQ0NzcxNTMtMS0xeiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTEyLjY5MSA0MS41OTRjLTEuMTMzLjYyLTIuMjcyIDEuMjE5LTMuNDExIDEuODEtLjE5NC4xLS40MTkuMi0uNjU2LjMxNS0uMTg0LjA4NC0uMzg2LjE4LS41ODYuMjgxaDguNjE5Yy0uNDQ2MTU3MS0xLjIxMTE4OTMtLjY2ODc2NTItMi40OTMzMDM1LS42NTctMy43ODQtMS4xNjI1NjYuMzAwNjg3LTIuMjc2NjQ1OC43NjQ2MzQ0LTMuMzA5IDEuMzc4eiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTIwLjg4MyAzMi40MzdjMS4wMzg5MjIyIDEuMDA0MTAxNSAxLjk0ODYwNDcgMi4xMzM4MTQxIDIuNzA4IDMuMzYzIDEuMDM3IDEuNTYzIDEuNTA5IDIuMiAyLjg0OSAyLjJoMy4xMmMxLjMzNyAwIDEuODEyLS42MzcgMi44NDktMi4yLjc1OTgwODctMS4yMjc2NTY4IDEuNjY5ODM5Mi0yLjM1NTcwNDkgMi43MDktMy4zNTggMi4yNTQtMi4xMDggMi4xNzItMy44NzMgMi4wNjgtNi4xMDctLjAyMy0uNDg5LS4wNDYtLjk4Ny0uMDQ2LTEuNS4wMTMwNDU4LS45NTk2NzI0LjEyMTI0Mi0xLjkxNTY4NS4zMjMtMi44NTQuNTU5MzYxNy0zLjAyNjc5MTguNzEzMzgwNy02LjExNDU2ODcuNDU4LTkuMTgyLS4zNDEtNy4zMS04LjgyMS03Ljc4My05LjE4Ni03Ljc5OWgtMS41MTVjLS4zMTYuMDE2LTguOC40ODktOS4xNDEgNy44LS4yNTUzODA3IDMuMDY3NDMxMy0uMTAxMzYxNyA2LjE1NTIwODIuNDU4IDkuMTgyLjIwMTc1OC45MzgzMTUuMzA5OTU0MiAxLjg5NDMyNzYuMzIzIDIuODU0IDAgLjUxLS4wMjMgMS4wMDgtLjA0NiAxLjUtLjEwNCAyLjIyOC0uMTg2IDMuOTkzIDIuMDY5IDYuMTAxeiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTE2LjA2IDE5LjU2OWMtLjIzNzkyNDktLjI4MDc2MzctLjU1Nzk2MTUtLjQ3OTc4MS0uOTE1LS41NjktLjE5NTQ2NDkgMS4wMzAxMDM3LS4yMDM1OTUgMi4wODcwMTEyLS4wMjQgMy4xMi4yODUzNzI3IDEuMDI0MTU4MS44OTM0NzkxIDEuOTI4OTUzMSAxLjczNCAyLjU4LS4wMjQ0OTM3LS43OTE5MzQ5LS4xMTk4NzQ4LTEuNTgwMDg0Mi0uMjg1LTIuMzU1LS4xMzktLjc1NS0uMy0xLjYzMy0uNDE2LTIuODUyeiIvPjxwYXRoIGlkPSJTaGFwZSIgZD0ibTQwLjg4NSAyMi4wOGMuMTc0NTIyLTEuMDIwMTQ2MS4xNjQ2OTk5LTIuMDYzMzIwOS0uMDI5LTMuMDgtLjM1NzM1OC4wODc5Nzk3LS42Nzc4ODMzLjI4NjM4MzUtLjkxNi41NjdsLS4wOTQtLjA4Yy0uMTE1IDEuMjE5LS4yNzcgMi4xLS40MTYgMi44NTItLjE2NTA2NDkuNzc0MjUwNi0uMjYwNDQ2IDEuNTYxNzMwNC0uMjg1IDIuMzUzLjg0OTcwNDMtLjY1NzI2NTIgMS40NjA4MzYzLTEuNTc0NjY1NiAxLjc0LTIuNjEyeiIvPjwvZz48L2c+PC9zdmc+"},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-43b898b0-00c7-42a7-9cd3-f614d47bf0aa","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":484,"y":15}},{"id":"0002-28a3c6fc-bcc6-41a8-920a-85b03abe7157","type":"basic.constant","data":{"name":"Lower","value":"85","local":true},"position":{"x":632,"y":18}},{"id":"0003-b9096efa-f195-48d4-bddb-568098dbf47f","type":"basic.constant","data":{"name":"Upper","value":"255","local":true},"position":{"x":783,"y":19}},{"id":"83a44880-92b1-4d0e-bc89-32a8904fd434","type":"basic.code","data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image, read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n\n    control_data = np.array([0.0,0.03])\n    required_frequency, update = float(parameters[0]), 1\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n        while True:\n        \n            if enabled or (update := int(enable_wire.get()[0])):\n    \n                sleep(control_data[1])\n                frame = input_0.get()\n                \n                if frame is not None:\n                \n                    frame = cv.cvtColor(frame, cv.COLOR_BGR2GRAY)\n                    edge_img = cv.Canny(frame, int(parameters[1]), int(parameters[2]))\n                    edge_img = cv.cvtColor(edge_img, cv.COLOR_GRAY2BGR)\n    \n                    output_0.add(edge_img)\n                    control_data[0] += 1\n                    \n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"Lower"},{"name":"Upper"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"803px","height":"326px"}},"position":{"x":273,"y":200}},{"id":"e4273d64-8368-42af-b123-2d075d9641de","type":"basic.input","data":{"name":"Inp"},"position":{"x":85,"y":305}},{"id":"8d3302cf-964e-4f83-b44c-48e330010582","type":"basic.input","data":{"name":"E"},"position":{"x":74,"y":447}},{"id":"ed162e9d-2919-46de-9cde-b1b94dfcc45c","type":"basic.output","data":{"name":"Out"},"position":{"x":1225,"y":363}}],"wires":[{"source":{"block":"0001-43b898b0-00c7-42a7-9cd3-f614d47bf0aa","port":"constant-out"},"target":{"block":"83a44880-92b1-4d0e-bc89-32a8904fd434","port":"Frequency"}},{"source":{"block":"0002-28a3c6fc-bcc6-41a8-920a-85b03abe7157","port":"constant-out"},"target":{"block":"83a44880-92b1-4d0e-bc89-32a8904fd434","port":"Lower"}},{"source":{"block":"0003-b9096efa-f195-48d4-bddb-568098dbf47f","port":"constant-out"},"target":{"block":"83a44880-92b1-4d0e-bc89-32a8904fd434","port":"Upper"}},{"source":{"block":"e4273d64-8368-42af-b123-2d075d9641de","port":"input-out"},"target":{"block":"83a44880-92b1-4d0e-bc89-32a8904fd434","port":"Inp"}},{"source":{"block":"8d3302cf-964e-4f83-b44c-48e330010582","port":"input-out"},"target":{"block":"83a44880-92b1-4d0e-bc89-32a8904fd434","port":"E"}},{"source":{"block":"83a44880-92b1-4d0e-bc89-32a8904fd434","port":"Out"},"target":{"block":"ed162e9d-2919-46de-9cde-b1b94dfcc45c","port":"output-in"}}]}},"dependencies":{}}