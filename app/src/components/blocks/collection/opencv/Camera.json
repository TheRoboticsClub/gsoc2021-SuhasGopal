{"editor":{"id":"cbc1fc5a-26b0-4972-8382-be55aa4427dd","offsetX":0,"offsetY":0,"zoom":100,"gridSize":0,"layers":[{"id":"d7e8bafa-1140-46a4-9019-bb4f23f31dbc","type":"diagram-links","isSvg":true,"transformed":true,"models":{"925633d9-4616-41f9-8828-47dc4271cab9":{"id":"925633d9-4616-41f9-8828-47dc4271cab9","type":"default","selected":false,"source":"0001-cb1a567b-b8db-4066-91cb-27a697a56d81","sourcePort":"66a453d3-26fc-49de-8859-19751d184b06","target":"f95b08bc-76fa-4a9d-8842-99fa307cda18","targetPort":"fca25672-66ec-4311-a9a1-121be9ad00f1","points":[{"id":"f06ec8a4-be16-4f54-9e7e-1630df374874","type":"point","x":740,"y":127.69999694824219},{"id":"5fdd223b-abc9-4f95-95ae-4506658e244d","type":"point","x":749.3250122070312,"y":180.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"e35579d7-434f-4020-b2d5-d073aee08eac":{"id":"e35579d7-434f-4020-b2d5-d073aee08eac","type":"default","selected":false,"source":"b652692b-a0b7-4346-8c9c-a174641b9af0","sourcePort":"720c7d1a-2510-4bec-837a-bfc8b154645c","target":"f95b08bc-76fa-4a9d-8842-99fa307cda18","targetPort":"812f3313-e5d5-4d1f-bdc8-67e3450ee182","points":[{"id":"6585d52f-e66e-4ea7-880b-e26420343fc2","type":"point","x":229.5,"y":280.6000061035156},{"id":"3bb923da-2961-4f22-8d85-b0839a36791a","type":"point","x":364.5,"y":289.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"c48b1e60-c27e-440c-8d96-3dd25d20ddf0":{"id":"c48b1e60-c27e-440c-8d96-3dd25d20ddf0","type":"default","selected":false,"source":"30235114-1447-4791-8bb2-d35880bbc4b1","sourcePort":"8dbcb3f5-fec1-4fad-aaf3-68f3f61cfe81","target":"f95b08bc-76fa-4a9d-8842-99fa307cda18","targetPort":"244b73de-a85b-4866-b925-e3f0ac68c76b","points":[{"id":"eb00a68c-612c-44eb-80d6-025a6fa11969","type":"point","x":233.5,"y":414.6000061035156},{"id":"bde90af9-da2c-40ed-9fa2-f3997cb931fc","type":"point","x":364.5,"y":398.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"8a0c232f-0131-45b2-be5a-71d301330df8":{"id":"8a0c232f-0131-45b2-be5a-71d301330df8","type":"default","selected":false,"source":"f95b08bc-76fa-4a9d-8842-99fa307cda18","sourcePort":"8b72e361-7881-4274-8080-120eaca25f5b","target":"c3b1b689-2693-4d76-8486-ea124e8c134b","targetPort":"8b69888a-4fd5-4c20-85cc-2f682d0d8fce","points":[{"id":"8afd69ab-f49a-48ec-b635-a34e780d87a5","type":"point","x":1134.1624755859375,"y":344},{"id":"2588848c-fb29-4b86-a63e-4564a9412ded","type":"point","x":1225.5,"y":346.6000061035156}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"9118b48a-26a5-4ebd-a131-3ffb34d7a166","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-cb1a567b-b8db-4066-91cb-27a697a56d81":{"id":"0001-cb1a567b-b8db-4066-91cb-27a697a56d81","type":"basic.constant","selected":false,"x":679,"y":12,"ports":[{"id":"66a453d3-26fc-49de-8859-19751d184b06","type":"port.output","x":732.5,"y":120.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0001-cb1a567b-b8db-4066-91cb-27a697a56d81","links":["925633d9-4616-41f9-8828-47dc4271cab9"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"f95b08bc-76fa-4a9d-8842-99fa307cda18":{"id":"f95b08bc-76fa-4a9d-8842-99fa307cda18","type":"basic.code","selected":false,"x":356,"y":172,"ports":[{"id":"812f3313-e5d5-4d1f-bdc8-67e3450ee182","type":"port.input","x":357,"y":282,"name":"Inp","alignment":"left","parentNode":"f95b08bc-76fa-4a9d-8842-99fa307cda18","links":["e35579d7-434f-4020-b2d5-d073aee08eac"],"in":true,"label":"Inp","hideLabel":false},{"id":"244b73de-a85b-4866-b925-e3f0ac68c76b","type":"port.input","x":357,"y":391,"name":"E","alignment":"left","parentNode":"f95b08bc-76fa-4a9d-8842-99fa307cda18","links":["c48b1e60-c27e-440c-8d96-3dd25d20ddf0"],"in":true,"label":"E","hideLabel":false},{"id":"8b72e361-7881-4274-8080-120eaca25f5b","type":"port.output","x":1126.6624755859375,"y":336.5,"name":"Out","alignment":"right","parentNode":"f95b08bc-76fa-4a9d-8842-99fa307cda18","links":["8a0c232f-0131-45b2-be5a-71d301330df8"],"in":false,"label":"Out","hideLabel":false},{"id":"fca25672-66ec-4311-a9a1-121be9ad00f1","type":"port.parameter","x":741.8250122070312,"y":173,"name":"Frequency","alignment":"top","parentNode":"f95b08bc-76fa-4a9d-8842-99fa307cda18","links":["925633d9-4616-41f9-8828-47dc4271cab9"],"in":true,"label":"Frequency","hideLabel":false}],"data":{"code":"import cv2\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    cap = cv2.VideoCapture(0)\n\n    try:\n    \n        while True:\n    \n            if enabled or (update := bool(enable_wire.get()[0])):\n                \n                control_data[0] += 1 \n                ret, frame = cap.read()\n                output_0.add(frame)\n                \n            sleep(control_data[1])\n            \n    except KeyboardInterrupt:\n    \n        cap.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"728px","height":"284px"}}},"b652692b-a0b7-4346-8c9c-a174641b9af0":{"id":"b652692b-a0b7-4346-8c9c-a174641b9af0","type":"basic.input","selected":false,"x":136,"y":254,"ports":[{"id":"720c7d1a-2510-4bec-837a-bfc8b154645c","type":"port.output","x":222,"y":273.1000061035156,"name":"input-out","alignment":"right","parentNode":"b652692b-a0b7-4346-8c9c-a174641b9af0","links":["e35579d7-434f-4020-b2d5-d073aee08eac"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"Inp"}},"30235114-1447-4791-8bb2-d35880bbc4b1":{"id":"30235114-1447-4791-8bb2-d35880bbc4b1","type":"basic.input","selected":false,"x":140,"y":388,"ports":[{"id":"8dbcb3f5-fec1-4fad-aaf3-68f3f61cfe81","type":"port.output","x":226,"y":407.1000061035156,"name":"input-out","alignment":"right","parentNode":"30235114-1447-4791-8bb2-d35880bbc4b1","links":["c48b1e60-c27e-440c-8d96-3dd25d20ddf0"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"c3b1b689-2693-4d76-8486-ea124e8c134b":{"id":"c3b1b689-2693-4d76-8486-ea124e8c134b","type":"basic.output","selected":false,"x":1217,"y":320,"ports":[{"id":"8b69888a-4fd5-4c20-85cc-2f682d0d8fce","type":"port.input","x":1218,"y":339.1000061035156,"name":"output-in","alignment":"left","parentNode":"c3b1b689-2693-4d76-8486-ea124e8c134b","links":["8a0c232f-0131-45b2-be5a-71d301330df8"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}}}}]},"version":"3.0","package":{"name":"Camera","version":"1.0.0","description":"Captures Video Stream from Camera","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQ3MnB0IiB2aWV3Qm94PSIwIC04NyA0NzIgNDcyIiB3aWR0aD0iNDcycHQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0ibTQ2MiAzNS4xMjEwOTR2MjI3LjgyMDMxMmwtMTIxLjg3ODkwNi02Ni41NTA3ODFoLTEuMjEwOTM4di05NC43MTg3NWgxLjIxMDkzOHptMCAwIiBmaWxsPSIjMDBhY2VhIi8+PHBhdGggZD0ibTMzOC45MTAxNTYgMTk2LjM5MDYyNXY1MS4wMzEyNWMwIDIyLjA4OTg0NC0xNy45MTAxNTYgNDAtNDAgNDBoLTI0OC45MTAxNTZjLTIyLjA4OTg0NCAwLTQwLTE3LjkxMDE1Ni00MC00MHYtMTk3LjQyMTg3NWMwLTIyLjA4OTg0NCAxNy45MTAxNTYtNDAgNDAtNDBoMjQ4LjkxMDE1NmMyMi4wODk4NDQgMCA0MCAxNy45MTAxNTYgNDAgNDB6bTAgMCIgZmlsbD0iIzAwZWZkMSIvPjxwYXRoIGQ9Im00NjcuMTAxNTYyIDI2LjUxOTUzMWMtMy4wMzkwNjItMS44MDA3ODEtNi43OTY4NzQtMS44NjcxODctOS44OTg0MzctLjE3NTc4MWwtMTA4LjI5Njg3NSA1OS4xMzI4MTJ2LTM1LjQ3NjU2MmMtLjAzMTI1LTI3LjYwMTU2Mi0yMi4zOTg0MzgtNDkuOTY4NzUtNTAtNTBoLTI0OC45MDYyNWMtMjcuNjAxNTYyLjAzMTI1LTQ5Ljk2ODc1IDIyLjM5ODQzOC01MCA1MHYxOTcuNDIxODc1Yy4wMzEyNSAyNy41OTc2NTYgMjIuMzk4NDM4IDQ5Ljk2NDg0NCA1MCA1MGgyNDguOTEwMTU2YzI3LjYwMTU2My0uMDM1MTU2IDQ5Ljk2ODc1LTIyLjQwMjM0NCA1MC01MHYtMzQuODM5ODQ0bDEwOC4zMDA3ODIgNTkuMTMyODEzYzMuMDk3NjU2IDEuNjkxNDA2IDYuODU1NDY4IDEuNjI1IDkuODkwNjI0LS4xNzU3ODIgMy4wMzUxNTctMS44MDQ2ODcgNC44OTg0MzgtNS4wNzAzMTIgNC44OTg0MzgtOC42MDE1NjJ2LTIyNy44MTY0MDZjMC0zLjUzMTI1LTEuODYzMjgxLTYuODAwNzgyLTQuODk4NDM4LTguNjAxNTYzem0tMTM4LjE5MTQwNiAyMjAuOTAyMzQ0Yy0uMDE5NTMxIDE2LjU1ODU5NC0xMy40Mzc1IDI5Ljk4MDQ2OS0zMCAzMGgtMjQ4LjkxMDE1NmMtMTYuNTYyNS0uMDE5NTMxLTI5Ljk4MDQ2OS0xMy40NDE0MDYtMzAtMzB2LTE5Ny40MjE4NzVjLjAxOTUzMS0xNi41NjI1IDEzLjQzNzUtMjkuOTgwNDY5IDMwLTMwaDI0OC45MTAxNTZjMTYuNTYyNS4wMTk1MzEgMjkuOTgwNDY5IDEzLjQzNzUgMzAgMzB6bTEyMy4wODk4NDQtMS4zMzU5MzctMTAzLjA4OTg0NC01Ni4yODkwNjN2LTgxLjUzMTI1bDEwMy4wODk4NDQtNTYuMjkyOTY5em0wIDAiIGZpbGw9IiMwODM4NjMiLz48L3N2Zz4="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-cb1a567b-b8db-4066-91cb-27a697a56d81","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":679,"y":12}},{"id":"f95b08bc-76fa-4a9d-8842-99fa307cda18","type":"basic.code","data":{"code":"import cv2\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    output_0 = share_image(output_wires[0])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n\n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    cap = cv2.VideoCapture(0)\n\n    try:\n    \n        while True:\n    \n            if enabled or (update := bool(enable_wire.get()[0])):\n                \n                control_data[0] += 1 \n                ret, frame = cap.read()\n                output_0.add(frame)\n                \n            sleep(control_data[1])\n            \n    except KeyboardInterrupt:\n    \n        cap.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"728px","height":"284px"}},"position":{"x":356,"y":172}},{"id":"b652692b-a0b7-4346-8c9c-a174641b9af0","type":"basic.input","data":{"name":"Inp"},"position":{"x":136,"y":254}},{"id":"30235114-1447-4791-8bb2-d35880bbc4b1","type":"basic.input","data":{"name":"E"},"position":{"x":140,"y":388}},{"id":"c3b1b689-2693-4d76-8486-ea124e8c134b","type":"basic.output","data":{"name":"Out"},"position":{"x":1217,"y":320}}],"wires":[{"source":{"block":"0001-cb1a567b-b8db-4066-91cb-27a697a56d81","port":"constant-out"},"target":{"block":"f95b08bc-76fa-4a9d-8842-99fa307cda18","port":"Frequency"}},{"source":{"block":"b652692b-a0b7-4346-8c9c-a174641b9af0","port":"input-out"},"target":{"block":"f95b08bc-76fa-4a9d-8842-99fa307cda18","port":"Inp"}},{"source":{"block":"30235114-1447-4791-8bb2-d35880bbc4b1","port":"input-out"},"target":{"block":"f95b08bc-76fa-4a9d-8842-99fa307cda18","port":"E"}},{"source":{"block":"f95b08bc-76fa-4a9d-8842-99fa307cda18","port":"Out"},"target":{"block":"c3b1b689-2693-4d76-8486-ea124e8c134b","port":"output-in"}}]}},"dependencies":{}}