{"editor":{"id":"344b910e-a2d4-444c-a695-32d6ee13b41b","offsetX":1,"offsetY":0,"zoom":100,"gridSize":0,"layers":[{"id":"6b85d2ce-6069-4234-82b0-3ea0457fe988","type":"diagram-links","isSvg":true,"transformed":true,"models":{"6208ee3c-acaa-4270-a580-20621f5c3fba":{"id":"6208ee3c-acaa-4270-a580-20621f5c3fba","type":"default","selected":false,"source":"0001-04babdf3-fc4e-4b5b-acc4-10efacb4b761","sourcePort":"e330fd23-963a-4930-84c9-96c850869fce","target":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","targetPort":"5377470e-7192-475b-af75-25f1a1050ba7","points":[{"id":"0b0d00ae-284e-497a-a579-7d9eff6ca819","type":"point","x":586,"y":135.6999969482422},{"id":"08d3d468-e714-41ee-9141-4abe56a49e86","type":"point","x":582.3125,"y":210.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"e3ac654e-28ae-4844-aae6-dbac176a81ea":{"id":"e3ac654e-28ae-4844-aae6-dbac176a81ea","type":"default","selected":false,"source":"0002-38c88b10-c6dd-40ec-9b32-70d7079e025e","sourcePort":"958c02ec-15c0-407a-a947-f2b540b4ff3f","target":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","targetPort":"9e6d573f-8719-4c76-989f-18465dc5c1cb","points":[{"id":"f7512dad-9407-47fa-85ad-674d8dfb1dc9","type":"point","x":752,"y":135.6999969482422},{"id":"34dc5a8e-8f50-42a5-ac15-6127b7b22497","type":"point","x":811.9750366210938,"y":210.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"fa7d24ea-cdfd-4802-97c3-d2e365595bfa":{"id":"fa7d24ea-cdfd-4802-97c3-d2e365595bfa","type":"default","selected":false,"source":"904aff36-89f0-45b1-9d9c-96683ab019eb","sourcePort":"1b6545f1-9a02-4965-ab9f-77de24a3fd1a","target":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","targetPort":"e6ffd02d-71bb-40d6-b53e-877a2cce7142","points":[{"id":"8e68ec2c-373f-42b2-85c8-bbf0ab1dc230","type":"point","x":280.5,"y":341.6000061035156},{"id":"98109ea3-713c-4e1b-87f3-d8b5771e698a","type":"point","x":371.5,"y":334.82501220703125}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"bbe90632-6c22-46d1-a11b-b0fcaa89fc80":{"id":"bbe90632-6c22-46d1-a11b-b0fcaa89fc80","type":"default","selected":false,"source":"916c29e4-10bb-4d10-8a94-4ecbf2137a7a","sourcePort":"71c1c9f4-d15e-4495-9821-5889148c7207","target":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","targetPort":"7f9a110a-53b5-47f8-8c08-da2d1c5582c7","points":[{"id":"dca89e92-a244-4c9b-a921-8c7e393bfee0","type":"point","x":277.5,"y":458.60003662109375},{"id":"afbc5d83-0c44-4b85-9062-5b6d04fd2f7b","type":"point","x":371.5,"y":459.1500244140625}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"ffc9772a-ddde-4ac2-be0a-c74c03a8bb30":{"id":"ffc9772a-ddde-4ac2-be0a-c74c03a8bb30","type":"default","selected":false,"source":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","sourcePort":"64dfa5dc-ec62-48f5-8b06-ba91476c1b91","target":"54a1d104-7e94-4af3-8636-1e154002cba2","targetPort":"79b4639f-fc0d-422b-bf72-48d3fabf6a5a","points":[{"id":"0a511a54-928d-4e12-b9ba-d1beac0251f2","type":"point","x":1011.1625366210938,"y":397},{"id":"5afccfb3-285e-4614-bfc5-5d5ea99d1fa0","type":"point","x":1071.5,"y":394.6000061035156}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"edf01807-f5b1-4877-84c5-36a932fc3329","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-04babdf3-fc4e-4b5b-acc4-10efacb4b761":{"id":"0001-04babdf3-fc4e-4b5b-acc4-10efacb4b761","type":"basic.constant","selected":false,"x":525,"y":20,"ports":[{"id":"e330fd23-963a-4930-84c9-96c850869fce","type":"port.output","x":578.5,"y":128.1999969482422,"name":"constant-out","alignment":"bottom","parentNode":"0001-04babdf3-fc4e-4b5b-acc4-10efacb4b761","links":["6208ee3c-acaa-4270-a580-20621f5c3fba"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0002-38c88b10-c6dd-40ec-9b32-70d7079e025e":{"id":"0002-38c88b10-c6dd-40ec-9b32-70d7079e025e","type":"basic.constant","selected":false,"x":691,"y":20,"ports":[{"id":"958c02ec-15c0-407a-a947-f2b540b4ff3f","type":"port.output","x":744.5,"y":128.1999969482422,"name":"constant-out","alignment":"bottom","parentNode":"0002-38c88b10-c6dd-40ec-9b32-70d7079e025e","links":["e3ac654e-28ae-4844-aae6-dbac176a81ea"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"x,y,w,h","value":"100,100,20,20","local":true}},"8e11faa4-f6e2-449e-9714-3751dcd2bc0b":{"id":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","type":"basic.code","selected":false,"x":363,"y":202,"ports":[{"id":"e6ffd02d-71bb-40d6-b53e-877a2cce7142","type":"port.input","x":364,"y":327.32501220703125,"name":"Inp","alignment":"left","parentNode":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","links":["fa7d24ea-cdfd-4802-97c3-d2e365595bfa"],"in":true,"label":"Inp","hideLabel":false},{"id":"7f9a110a-53b5-47f8-8c08-da2d1c5582c7","type":"port.input","x":364,"y":451.6500244140625,"name":"E","alignment":"left","parentNode":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","links":["bbe90632-6c22-46d1-a11b-b0fcaa89fc80"],"in":true,"label":"E","hideLabel":false},{"id":"64dfa5dc-ec62-48f5-8b06-ba91476c1b91","type":"port.output","x":1003.6625366210938,"y":389.5,"name":"Out","alignment":"right","parentNode":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","links":["ffc9772a-ddde-4ac2-be0a-c74c03a8bb30"],"in":false,"label":"Out","hideLabel":false},{"id":"5377470e-7192-475b-af75-25f1a1050ba7","type":"port.parameter","x":574.8125,"y":203,"name":"Frequency","alignment":"top","parentNode":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","links":["6208ee3c-acaa-4270-a580-20621f5c3fba"],"in":true,"label":"Frequency","hideLabel":false},{"id":"9e6d573f-8719-4c76-989f-18465dc5c1cb","type":"port.parameter","x":804.4750366210938,"y":203,"name":"xywh","alignment":"top","parentNode":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","links":["e3ac654e-28ae-4844-aae6-dbac176a81ea"],"in":true,"label":"xywh","hideLabel":false}],"data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image, read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_image(output_wires[0])\n    \n    # Bounding Box Co-ordinates (OpenCV Standard Rectangle (x, y, w, h))\n    x, y, w, h = np.array([int(x.strip()) for x in parameters[1].split(',')])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n    \n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n    \n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n        \n    try:\n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n    \n                frame = input_0.get()\n                \n                if frame is not None:\n\n                    crop_img = frame[y:y+h, x:x+w, :]\n                    output_0.add(crop_img)\n    \n                control_data[0] += 1\n                \n            sleep(control_data[1])\n            \n    except KeyboardInterrupt: \n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"xywh"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"608px","height":"326px"}}},"904aff36-89f0-45b1-9d9c-96683ab019eb":{"id":"904aff36-89f0-45b1-9d9c-96683ab019eb","type":"basic.input","selected":false,"x":187,"y":315,"ports":[{"id":"1b6545f1-9a02-4965-ab9f-77de24a3fd1a","type":"port.output","x":273,"y":334.1000061035156,"name":"input-out","alignment":"right","parentNode":"904aff36-89f0-45b1-9d9c-96683ab019eb","links":["fa7d24ea-cdfd-4802-97c3-d2e365595bfa"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"Inp"}},"916c29e4-10bb-4d10-8a94-4ecbf2137a7a":{"id":"916c29e4-10bb-4d10-8a94-4ecbf2137a7a","type":"basic.input","selected":false,"x":184,"y":432,"ports":[{"id":"71c1c9f4-d15e-4495-9821-5889148c7207","type":"port.output","x":270,"y":451.10003662109375,"name":"input-out","alignment":"right","parentNode":"916c29e4-10bb-4d10-8a94-4ecbf2137a7a","links":["bbe90632-6c22-46d1-a11b-b0fcaa89fc80"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"54a1d104-7e94-4af3-8636-1e154002cba2":{"id":"54a1d104-7e94-4af3-8636-1e154002cba2","type":"basic.output","selected":false,"x":1063,"y":368,"ports":[{"id":"79b4639f-fc0d-422b-bf72-48d3fabf6a5a","type":"port.input","x":1064,"y":387.1000061035156,"name":"output-in","alignment":"left","parentNode":"54a1d104-7e94-4af3-8636-1e154002cba2","links":["ffc9772a-ddde-4ac2-be0a-c74c03a8bb30"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}}}}]},"version":"3.0","package":{"name":"Cropper","version":"1.0.0","description":"Crops an Image","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTAuNzQyIDUxMC43NDIiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNTEwLjc0MiA1MTAuNzQyIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnPjxwYXRoIGQ9Im0zNjEuMTAxIDMwMS4wMjR2MTg5LjQ1M2MwIDcuMDQyIDUuNzA4IDEyLjc1MSAxMi43NSAxMi43NTFoNDkuNDk5YzcuMDQyIDAgMTIuNzUtNS43MDkgMTIuNzUtMTIuNzUxdi0xODkuNDUzeiIgZmlsbD0iIzZjZjVjMiIvPjxnPjxwYXRoIGQ9Im0xNDIuODc4IDM3Ljg2M3YtMTcuNTk3YzAtNy4wNDItNS43MDktMTIuNzUxLTEyLjc1MS0xMi43NTFoLTQ5LjQ5OGMtNy4wNDIgMC0xMi43NTEgNS43MDktMTIuNzUxIDEyLjc1MXYxNy41OTcgMzYwLjcyM2MwIDIwLjcxMSAxNi43ODkgMzcuNSAzNy41IDM3LjVoMzg1LjExNGM3LjA0MiAwIDEyLjc1MS01LjcwOSAxMi43NTEtMTIuNzUxdi00OS40OTljMC03LjA0Mi01LjcwOS0xMi43NTEtMTIuNzUxLTEyLjc1MWgtMzQ3LjYxNHoiIGZpbGw9IiNjMmZhZTMiLz48L2c+PHBhdGggZD0ibTM5OC42MDEgNjcuODYzaC0zNzguMzJjLTcuMDQyIDAtMTIuNzUgNS43MDktMTIuNzUgMTIuNzV2NDkuNDk5YzAgNy4wNDIgNS43MDggMTIuNzUxIDEyLjc1IDEyLjc1MWgxNy41OTcgMTM1IDE4OC4yMjN2MTU4LjE2MWwxMS44MDMgMTcuODg5aDU3LjA2NWw2LjEzMi0xNy44ODl2LTE5NS42NjFjMC0yMC43MTEtMTYuNzg5LTM3LjUtMzcuNS0zNy41eiIgZmlsbD0iIzZjZjVjMiIvPjxnPjxwYXRoIGQ9Im02Ny44NzggNDUuMzYzYzQuMTQzIDAgNy41LTMuMzU4IDcuNS03LjV2LTE3LjU5N2MwLTIuODk1IDIuMzU1LTUuMjUgNS4yNTEtNS4yNWg0OS40OThjMi44OTYgMCA1LjI1MSAyLjM1NSA1LjI1MSA1LjI1djE3LjU5N2MwIDQuMTQyIDMuMzU3IDcuNSA3LjUgNy41czcuNS0zLjM1OCA3LjUtNy41di0xNy41OTdjMC0xMS4xNjYtOS4wODUtMjAuMjUtMjAuMjUxLTIwLjI1aC00OS40OThjLTExLjE2NiAwLTIwLjI1MSA5LjA4NC0yMC4yNTEgMjAuMjV2MTcuNTk3YzAgNC4xNDIgMy4zNTggNy41IDcuNSA3LjV6Ii8+PHBhdGggZD0ibTQ5MC40OTIgMzUzLjU4NmgtMzI2Ljc0M2w2LjU0NC02LjU0NGMyLjkyOS0yLjkyOSAyLjkyOS03LjY3OCAwLTEwLjYwNnMtNy42NzctMi45My0xMC42MDcgMGwtOS4zMDggOS4zMDd2LTE3Mi44OGMwLTQuMTQyLTMuMzU3LTcuNS03LjUtNy41cy03LjUgMy4zNTgtNy41IDcuNXYxODcuODhsLTEwLjY0NiAxMC42NDVjLTIuOTI5IDIuOTI5LTIuOTI5IDcuNjc4IDAgMTAuNjA2IDEuNDY1IDEuNDY1IDMuMzg0IDIuMTk3IDUuMzA0IDIuMTk3IDEuOTE5IDAgMy44MzktLjczMiA1LjMwNC0yLjE5N2wxMy40MDgtMTMuNDA4aDM0MS43NDRjMi44OTUgMCA1LjI1IDIuMzU1IDUuMjUgNS4yNXY0OS40OTljMCAyLjg5NS0yLjM1NSA1LjI1LTUuMjUgNS4yNWgtMzg1LjExNGMtNC44MyAwLTkuMzkzLTEuMTU0LTEzLjQzOC0zLjE5bDguNDQ4LTguNDQ4YzIuOTI5LTIuOTI5IDIuOTI5LTcuNjc4IDAtMTAuNjA2LTIuOTMtMi45MjktNy42NzgtMi45MjktMTAuNjA3IDBsLTkuMTYyIDkuMTYxYy0zLjMwMy00LjgyLTUuMjQxLTEwLjY0NS01LjI0MS0xNi45MTZ2LTE0NC44NmMwLTQuMTQyLTMuMzU3LTcuNS03LjUtNy41cy03LjUgMy4zNTgtNy41IDcuNXYxNDQuODZjMCAxMC40MTIgMy41NjQgMjAuMDAxIDkuNTIzIDI3LjYzNGwtMTUuMDc0IDE1LjA3NGMtMi45MjkgMi45MjktMi45MjkgNy42NzggMCAxMC42MDYgMS40NjUgMS40NjUgMy4zODQgMi4xOTcgNS4zMDQgMi4xOTcgMS45MTkgMCAzLjgzOS0uNzMyIDUuMzA0LTIuMTk3bDE1LjUzNy0xNS41MzdjNy4wMzYgNC41NjIgMTUuNDE0IDcuMjIzIDI0LjQwNiA3LjIyM2gzODUuMTE0YzExLjE2NiAwIDIwLjI1LTkuMDg0IDIwLjI1LTIwLjI1di00OS40OTljMC0xMS4xNjYtOS4wODQtMjAuMjUxLTIwLjI1LTIwLjI1MXoiLz48cGF0aCBkPSJtNjAuMzc4IDE3Mi44NjN2NDguOWMwIDQuMTQyIDMuMzU3IDcuNSA3LjUgNy41czcuNS0zLjM1OCA3LjUtNy41di00OC45YzAtNC4xNDItMy4zNTctNy41LTcuNS03LjVzLTcuNSAzLjM1OC03LjUgNy41eiIvPjxwYXRoIGQ9Im0yMC4yODEgMTUwLjM2M2gzMjUuNDc2bC0xMS4zMDggMTEuMzA4Yy0yLjkyOSAyLjkyOS0yLjkyOSA3LjY3OCAwIDEwLjYwNiAxLjQ2NSAxLjQ2NCAzLjM4NSAyLjE5NyA1LjMwNCAyLjE5N3MzLjgzOS0uNzMyIDUuMzA0LTIuMTk3bDguNTQ1LTguNTQ1djgyLjE4NmMwIDQuMTQyIDMuMzU3IDcuNSA3LjUgNy41czcuNS0zLjM1OCA3LjUtNy41di05Ny4xODZsMTEuNDA4LTExLjQwOGMyLjkyOS0yLjkyOSAyLjkyOS03LjY3OCAwLTEwLjYwNi0yLjkzLTIuOTI5LTcuNjc4LTIuOTI5LTEwLjYwNyAwbC04LjY0NSA4LjY0NWgtMzQwLjQ3N2MtMi44OTYgMC01LjI1MS0yLjM1NS01LjI1MS01LjI1di00OS41YzAtMi44OTUgMi4zNTUtNS4yNSA1LjI1MS01LjI1aDM3OC4zMmM2LjI3MSAwIDEyLjA5NiAxLjkzNyAxNi45MTYgNS4yNGwtMTEuMTYyIDExLjE2MmMtMi45MjkgMi45MjktMi45MjkgNy42NzggMCAxMC42MDYgMS40NjUgMS40NjQgMy4zODUgMi4xOTcgNS4zMDQgMi4xOTdzMy44MzktLjczMiA1LjMwNC0yLjE5N2wxMC40NDgtMTAuNDQ4YzIuMDM3IDQuMDQ2IDMuMTkxIDguNjA5IDMuMTkxIDEzLjQzOXYyMjUuNzIzYzAgNC4xNDIgMy4zNTcgNy41IDcuNSA3LjVzNy41LTMuMzU4IDcuNS03LjV2LTIyNS43MjJjMC04Ljk5Mi0yLjY2Mi0xNy4zNy03LjIyNC0yNC40MDdsMTMuNTM3LTEzLjUzN2MyLjkyOS0yLjkyOSAyLjkyOS03LjY3OC0uMDAxLTEwLjYwNi0yLjkyOC0yLjkzLTcuNjc3LTIuOTI5LTEwLjYwNiAwbC0xMy4wNzMgMTMuMDczYy03LjYzMy01Ljk1OS0xNy4yMjItOS41MjItMjcuNjMzLTkuNTIyaC0zNzguMzIxYy0xMS4xNjYgMC0yMC4yNTEgOS4wODQtMjAuMjUxIDIwLjI1djQ5LjQ5OWMuMDAxIDExLjE2NSA5LjA4NSAyMC4yNSAyMC4yNTEgMjAuMjV6Ii8+PHBhdGggZD0ibTM2MS4xMDIgMjcwLjM4Yy00LjE0MyAwLTcuNSAzLjM1OC03LjUgNy41djUzLjIwNmMwIDQuMTQyIDMuMzU3IDcuNSA3LjUgNy41czcuNS0zLjM1OCA3LjUtNy41di01My4yMDZjMC00LjE0Mi0zLjM1OC03LjUtNy41LTcuNXoiLz48cGF0aCBkPSJtNDM2LjEwMiA0NTguNTg2Yy00LjE0MyAwLTcuNSAzLjM1OC03LjUgNy41djI0LjM5MWMwIDIuODk1LTIuMzU1IDUuMjUtNS4yNTEgNS4yNWgtNDkuNDk5Yy0yLjg5NSAwLTUuMjUtMi4zNTUtNS4yNS01LjI1di0yNC4zOTFjMC00LjE0Mi0zLjM1Ny03LjUtNy41LTcuNXMtNy41IDMuMzU4LTcuNSA3LjV2MjQuMzkxYzAgMTEuMTY2IDkuMDg0IDIwLjI1IDIwLjI1IDIwLjI1aDQ5LjQ5OWMxMS4xNjYgMCAyMC4yNTEtOS4wODQgMjAuMjUxLTIwLjI1di0yNC4zOTFjMC00LjE0Mi0zLjM1OC03LjUtNy41LTcuNXoiLz48cGF0aCBkPSJtMTkuODc0IDQ3Ni4yNDYtMTcuNjc3IDE3LjY3OGMtMi45MjkgMi45MjktMi45MjkgNy42NzggMCAxMC42MDYgMS40NjUgMS40NjQgMy4zODUgMi4xOTcgNS4zMDQgMi4xOTdzMy44MzktLjczMiA1LjMwNC0yLjE5N2wxNy42NzgtMTcuNjc4YzIuOTI5LTIuOTI5IDIuOTI5LTcuNjc4IDAtMTAuNjA2LTIuOTMxLTIuOTI4LTcuNjc5LTIuOTI4LTEwLjYwOSAweiIvPjxwYXRoIGQ9Im0yOTkuNDk3IDE5Ni42MjQtMzQuOTUzIDM0Ljk1M2MtMi45MjkgMi45MjktMi45MjkgNy42NzggMCAxMC42MDYgMS40NjUgMS40NjUgMy4zODQgMi4xOTcgNS4zMDQgMi4xOTcgMS45MTkgMCAzLjgzOS0uNzMyIDUuMzA0LTIuMTk3bDM0Ljk1My0zNC45NTNjMi45MjktMi45MjkgMi45MjktNy42NzggMC0xMC42MDZzLTcuNjc3LTIuOTMtMTAuNjA4IDB6Ii8+PHBhdGggZD0ibTIyOS41OTEgMjY2LjUyOS0zNC45NTIgMzQuOTUzYy0yLjkyOSAyLjkyOS0yLjkyOSA3LjY3OCAwIDEwLjYwNiAxLjQ2NSAxLjQ2NCAzLjM4NCAyLjE5NyA1LjMwNCAyLjE5NyAxLjkxOSAwIDMuODM5LS43MzIgNS4zMDQtMi4xOTdsMzQuOTUyLTM0Ljk1M2MyLjkyOS0yLjkyOSAyLjkyOS03LjY3OCAwLTEwLjYwNi0yLjkzMS0yLjkyOS03LjY3OS0yLjkyOC0xMC42MDggMHoiLz48cGF0aCBkPSJtNDc5LjU2NSAzNC42NjNjMS45MTkgMCAzLjgzOS0uNzMyIDUuMzA0LTIuMTk3bDE3LjY3OC0xNy42NzhjMi45MjktMi45MjkgMi45MjktNy42NzggMC0xMC42MDYtMi45My0yLjkyOS03LjY3OC0yLjkyOS0xMC42MDcgMGwtMTcuNjc4IDE3LjY3OGMtMi45MjkgMi45MjktMi45MjkgNy42NzggMCAxMC42MDYgMS40NjQgMS40NjQgMy4zODQgMi4xOTcgNS4zMDMgMi4xOTd6Ii8+PC9nPjwvZz48L3N2Zz4="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-04babdf3-fc4e-4b5b-acc4-10efacb4b761","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":525,"y":20}},{"id":"0002-38c88b10-c6dd-40ec-9b32-70d7079e025e","type":"basic.constant","data":{"name":"x,y,w,h","value":"100,100,20,20","local":true},"position":{"x":691,"y":20}},{"id":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","type":"basic.code","data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image, read_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    input_0 = read_image(input_wires[0])\n    output_0 = share_image(output_wires[0])\n    \n    # Bounding Box Co-ordinates (OpenCV Standard Rectangle (x, y, w, h))\n    x, y, w, h = np.array([int(x.strip()) for x in parameters[1].split(',')])\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[1])\n    except IndexError:\n        enabled = True\n    \n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.03])\n    \n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n        \n    try:\n        while True:\n        \n            if enabled or (update := bool(enable_wire.get()[0])):\n    \n                frame = input_0.get()\n                \n                if frame is not None:\n\n                    crop_img = frame[y:y+h, x:x+w, :]\n                    output_0.add(crop_img)\n    \n                control_data[0] += 1\n                \n            sleep(control_data[1])\n            \n    except KeyboardInterrupt: \n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"xywh"}],"ports":{"in":[{"name":"Inp"},{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"608px","height":"326px"}},"position":{"x":363,"y":202}},{"id":"904aff36-89f0-45b1-9d9c-96683ab019eb","type":"basic.input","data":{"name":"Inp"},"position":{"x":187,"y":315}},{"id":"916c29e4-10bb-4d10-8a94-4ecbf2137a7a","type":"basic.input","data":{"name":"E"},"position":{"x":184,"y":432}},{"id":"54a1d104-7e94-4af3-8636-1e154002cba2","type":"basic.output","data":{"name":"Out"},"position":{"x":1063,"y":368}}],"wires":[{"source":{"block":"0001-04babdf3-fc4e-4b5b-acc4-10efacb4b761","port":"constant-out"},"target":{"block":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","port":"Frequency"}},{"source":{"block":"0002-38c88b10-c6dd-40ec-9b32-70d7079e025e","port":"constant-out"},"target":{"block":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","port":"xywh"}},{"source":{"block":"904aff36-89f0-45b1-9d9c-96683ab019eb","port":"input-out"},"target":{"block":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","port":"Inp"}},{"source":{"block":"916c29e4-10bb-4d10-8a94-4ecbf2137a7a","port":"input-out"},"target":{"block":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","port":"E"}},{"source":{"block":"8e11faa4-f6e2-449e-9714-3751dcd2bc0b","port":"Out"},"target":{"block":"54a1d104-7e94-4af3-8636-1e154002cba2","port":"output-in"}}]}},"dependencies":{}}