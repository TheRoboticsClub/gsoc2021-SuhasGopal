{"editor":{"id":"09380289-3f4e-4376-8463-9d9ce43497bc","offsetX":0,"offsetY":0,"zoom":100,"gridSize":0,"layers":[{"id":"1e64dcdf-4a6c-4d90-adee-1cabedb8157f","type":"diagram-links","isSvg":true,"transformed":true,"models":{"b8cd87fe-9845-48a5-b7ae-6ecb4c22bf4f":{"id":"b8cd87fe-9845-48a5-b7ae-6ecb4c22bf4f","type":"default","selected":false,"source":"0001-13270394-10b4-4ed5-9018-c93d1acdada2","sourcePort":"c322337e-a775-4d3b-8c95-039e4d5a6bf4","target":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","targetPort":"812ee616-1a90-431a-bde0-8df9fc52614d","points":[{"id":"9ccd1029-6e05-4add-9a0f-1c12cfee5878","type":"point","x":627,"y":135.6999969482422},{"id":"a2bf2138-f125-4674-8718-9564f4257cd8","type":"point","x":562.1124877929688,"y":196.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"002b5293-7e83-4a1c-88dd-c39064c2cd8e":{"id":"002b5293-7e83-4a1c-88dd-c39064c2cd8e","type":"default","selected":false,"source":"0002-47c4952d-88f9-428e-9ff5-f31d447d7ff4","sourcePort":"b14092ee-263a-4ca2-a361-2a62160f9906","target":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","targetPort":"5aca1c8d-ace0-4c89-accd-6e7afd3a829d","points":[{"id":"9619f81a-9419-4476-a432-ceffea05e964","type":"point","x":785,"y":133.6999969482422},{"id":"aa6970f5-58ff-4beb-a8f0-442e8df4041f","type":"point","x":869.375,"y":196.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"af2d449d-5f03-45cc-8fc4-d4483783109f":{"id":"af2d449d-5f03-45cc-8fc4-d4483783109f","type":"default","selected":false,"source":"38cedc19-1790-46bf-99e6-0e4296938c1c","sourcePort":"66cd3220-7588-42ac-8fb8-94810afbaa60","target":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","targetPort":"641cbb86-877c-4c23-8c78-1e1a5d85f1ec","points":[{"id":"182a194d-21ea-4d66-b743-5bca7e674cb4","type":"point","x":209.5,"y":406.6000061035156},{"id":"19ac8c13-cdb0-42ce-be0d-33a1f1492108","type":"point","x":286.5,"y":419.5}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"},"bb140cb0-8954-4a2e-8cbc-fce80c9c0ba0":{"id":"bb140cb0-8954-4a2e-8cbc-fce80c9c0ba0","type":"default","selected":false,"source":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","sourcePort":"434f100e-1898-4e67-8e71-2258388bdcb1","target":"7553432d-a95d-41f2-8638-d3e0311d433c","targetPort":"c8de7ed9-081d-43e7-acdf-8f86b5ec5c62","points":[{"id":"d13c6891-e14d-44a9-9cd1-3dc23a031201","type":"point","x":1146.1624755859375,"y":419.5},{"id":"ea0b07fd-9dda-45b2-8eae-c99ef420684a","type":"point","x":1240.5,"y":428.6000061035156}],"labels":[],"width":3,"color":"gray","curvyness":50,"selectedColor":"rgb(0,192,255)"}}},{"id":"b87bb940-de3b-46ed-8654-590c8e738430","type":"diagram-nodes","isSvg":false,"transformed":true,"models":{"0001-13270394-10b4-4ed5-9018-c93d1acdada2":{"id":"0001-13270394-10b4-4ed5-9018-c93d1acdada2","type":"basic.constant","selected":false,"x":566,"y":20,"ports":[{"id":"c322337e-a775-4d3b-8c95-039e4d5a6bf4","type":"port.output","x":619.5,"y":128.1999969482422,"name":"constant-out","alignment":"bottom","parentNode":"0001-13270394-10b4-4ed5-9018-c93d1acdada2","links":["b8cd87fe-9845-48a5-b7ae-6ecb4c22bf4f"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Frequency","value":"30.0","local":true}},"0002-47c4952d-88f9-428e-9ff5-f31d447d7ff4":{"id":"0002-47c4952d-88f9-428e-9ff5-f31d447d7ff4","type":"basic.constant","selected":false,"x":724,"y":18,"ports":[{"id":"b14092ee-263a-4ca2-a361-2a62160f9906","type":"port.output","x":777.5,"y":126.19999694824219,"name":"constant-out","alignment":"bottom","parentNode":"0002-47c4952d-88f9-428e-9ff5-f31d447d7ff4","links":["002b5293-7e83-4a1c-88dd-c39064c2cd8e"],"in":false,"label":"constant-out","hideLabel":true}],"data":{"name":"Image Path","value":"/home/Desktop/img.jpg","local":true}},"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7":{"id":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","type":"basic.code","selected":false,"x":278,"y":188,"ports":[{"id":"641cbb86-877c-4c23-8c78-1e1a5d85f1ec","type":"port.input","x":279,"y":412,"name":"E","alignment":"left","parentNode":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","links":["af2d449d-5f03-45cc-8fc4-d4483783109f"],"in":true,"label":"E","hideLabel":false},{"id":"434f100e-1898-4e67-8e71-2258388bdcb1","type":"port.output","x":1138.6624755859375,"y":412,"name":"Out","alignment":"right","parentNode":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","links":["bb140cb0-8954-4a2e-8cbc-fce80c9c0ba0"],"in":false,"label":"Out","hideLabel":false},{"id":"812ee616-1a90-431a-bde0-8df9fc52614d","type":"port.parameter","x":554.6124877929688,"y":189,"name":"Frequency","alignment":"top","parentNode":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","links":["b8cd87fe-9845-48a5-b7ae-6ecb4c22bf4f"],"in":true,"label":"Frequency","hideLabel":false},{"id":"5aca1c8d-ace0-4c89-accd-6e7afd3a829d","type":"port.parameter","x":861.875,"y":189,"name":"ImagePath","alignment":"top","parentNode":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","links":["002b5293-7e83-4a1c-88dd-c39064c2cd8e"],"in":true,"label":"ImagePath","hideLabel":false}],"data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    output_0 = share_image(output_wires[0])\n    image = cv.imread(parameters[1], 1)\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.05])\n    \n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n    \n            if enabled or (update := bool(enable_wire.get()[0])):\n            \n                output_0.add(image)\n                control_data[0] += 1\n                \n            sleep(control_data[1])\n                    \n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"ImagePath"}],"ports":{"in":[{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"818px","height":"403px"}}},"38cedc19-1790-46bf-99e6-0e4296938c1c":{"id":"38cedc19-1790-46bf-99e6-0e4296938c1c","type":"basic.input","selected":false,"x":116,"y":380,"ports":[{"id":"66cd3220-7588-42ac-8fb8-94810afbaa60","type":"port.output","x":202,"y":399.1000061035156,"name":"input-out","alignment":"right","parentNode":"38cedc19-1790-46bf-99e6-0e4296938c1c","links":["af2d449d-5f03-45cc-8fc4-d4483783109f"],"in":false,"label":"input-out","hideLabel":true}],"data":{"name":"E"}},"7553432d-a95d-41f2-8638-d3e0311d433c":{"id":"7553432d-a95d-41f2-8638-d3e0311d433c","type":"basic.output","selected":false,"x":1232,"y":402,"ports":[{"id":"c8de7ed9-081d-43e7-acdf-8f86b5ec5c62","type":"port.input","x":1233,"y":421.1000061035156,"name":"output-in","alignment":"left","parentNode":"7553432d-a95d-41f2-8638-d3e0311d433c","links":["bb140cb0-8954-4a2e-8cbc-fce80c9c0ba0"],"in":true,"label":"output-in","hideLabel":true}],"data":{"name":"Out"}}}}]},"version":"3.0","package":{"name":"ImageRead","version":"1.0.0","description":"Reads an Image from a Directory.","author":"Muhammad Taha Suhail","image":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDY4LjI5MyA0NjguMjkzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjguMjkzIDQ2OC4yOTM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxyZWN0IHk9IjE1LjgyMiIgc3R5bGU9ImZpbGw6IzY0Nzk4QTsiIHdpZHRoPSI0NjguMjkzIiBoZWlnaHQ9IjQzNi42NDkiLz4NCjxyZWN0IHg9IjUwLjAzMiIgeT0iNjIuNDk1IiBzdHlsZT0iZmlsbDojRTFFNkU5OyIgd2lkdGg9IjM2OC4yMjgiIGhlaWdodD0iMzQzLjM1MiIvPg0KPGNpcmNsZSBzdHlsZT0iZmlsbDojRkNENDYyOyIgY3g9IjMxMC42MzQiIGN5PSIxMzMuNDA3IiByPSI2NC4wNjkiLz4NCjxjaXJjbGUgc3R5bGU9ImZpbGw6I0Y2QzM1ODsiIGN4PSIzMTAuNjM0IiBjeT0iMTMzLjQwNyIgcj0iNTAuMzg4Ii8+DQo8cG9seWdvbiBzdHlsZT0iZmlsbDojM0VBNjlCOyIgcG9pbnRzPSIxNzEuOTQ1LDQwNS44NDYgMjk4LjgzNSwyMjMuODUyIDQxNS43NzMsNDA1Ljg0NiAiLz4NCjxwb2x5Z29uIHN0eWxlPSJmaWxsOiM0NEM0QTE7IiBwb2ludHM9IjUwLjAzMSw0MDUuODQ2IDE3Ni45MjEsMjIzLjg1MiAyOTMuODU5LDQwNS44NDYgIi8+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="},"design":{"board":"Python3-Noetic","graph":{"blocks":[{"id":"0001-13270394-10b4-4ed5-9018-c93d1acdada2","type":"basic.constant","data":{"name":"Frequency","value":"30.0","local":true},"position":{"x":566,"y":20}},{"id":"0002-47c4952d-88f9-428e-9ff5-f31d447d7ff4","type":"basic.constant","data":{"name":"Image Path","value":"/home/Desktop/img.jpg","local":true},"position":{"x":724,"y":18}},{"id":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","type":"basic.code","data":{"code":"import cv2 as cv\nimport numpy as np\nfrom time import sleep\nfrom utils.wires.wire_img import share_image\nfrom utils.wires.wire_str import read_string\nfrom utils.tools.freq_monitor import monitor_frequency\n\ndef loop(block_name, input_wires, output_wires, parameters, flags):\n\n    output_0 = share_image(output_wires[0])\n    image = cv.imread(parameters[1], 1)\n\n    enabled = False\n    try:\n        enable_wire = read_string(input_wires[0])\n    except IndexError:\n        enabled = True\n\n    required_frequency, update = float(parameters[0]), 1\n    control_data = np.array([0.0,0.05])\n    \n    if flags[0] == 1:\n        monitor_frequency(block_name, control_data, required_frequency, update)\n\n    try:\n    \n        while True:\n    \n            if enabled or (update := bool(enable_wire.get()[0])):\n            \n                output_0.add(image)\n                control_data[0] += 1\n                \n            sleep(control_data[1])\n                    \n    except KeyboardInterrupt:\n    \n        input_0.release()\n        enable_wire.release()\n        output_0.release()","params":[{"name":"Frequency"},{"name":"ImagePath"}],"ports":{"in":[{"name":"E"}],"out":[{"name":"Out"}]},"size":{"width":"818px","height":"403px"}},"position":{"x":278,"y":188}},{"id":"38cedc19-1790-46bf-99e6-0e4296938c1c","type":"basic.input","data":{"name":"E"},"position":{"x":116,"y":380}},{"id":"7553432d-a95d-41f2-8638-d3e0311d433c","type":"basic.output","data":{"name":"Out"},"position":{"x":1232,"y":402}}],"wires":[{"source":{"block":"0001-13270394-10b4-4ed5-9018-c93d1acdada2","port":"constant-out"},"target":{"block":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","port":"Frequency"}},{"source":{"block":"0002-47c4952d-88f9-428e-9ff5-f31d447d7ff4","port":"constant-out"},"target":{"block":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","port":"ImagePath"}},{"source":{"block":"38cedc19-1790-46bf-99e6-0e4296938c1c","port":"input-out"},"target":{"block":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","port":"E"}},{"source":{"block":"018d77dc-a1a5-4de1-ab0a-a0b3f054b5d7","port":"Out"},"target":{"block":"7553432d-a95d-41f2-8638-d3e0311d433c","port":"output-in"}}]}},"dependencies":{}}